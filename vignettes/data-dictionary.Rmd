---
title: "State Demography Office Data Dictionary"
author: "Rob Kemp"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo=FALSE, message=FALSE}
library(dplyr)
library(codemog)
knitr::opts_chunk$set(
  comment = "#>",
  error = FALSE,
  tidy = FALSE)
```
The `codemog` package contains population estimates and forecasts generated by the Colorado State Demography Office (located within the Department of Local Affairs).  There are currently 6 datasets available through this R Package.  The following is a detailed dictionary of each dataset.  Note: All population data is currently from the Vintage 2014 Estimates.  

## Included datasets

----------------------------------------------------------------------------------------------
 Data Set (For Colorado Only Unless Noted)                          Vintage     Date Updated  
----------------------------------------------------------------  ------------- -------------- 
County Population Estimates                                          v2014       10/23/2015

County Population Forecasts                                          v2014       10/23/2015

County Demographic Profile Data                                      v2014       10/23/2015

Municipal Population Estimates (Totals)                              v2014       01/01/2015

Municipal Population Estimates (Within Counties)                     v2014       10/23/2015

County Jobs Estimates (with Supression)                              v2014       06/30/2015   

County Jobs Forecasts                                                v2013       01/01/2015  

County Jobs Industry Share (calculated on Unsupressed)               v2014       10/23/2015  

County Jobs Industry Change                                          v2014       10/23/2015  

County Base Industry Analysis                                        v2013       01/01/2015  

County Labor Force (BLS Data)                                        N/A         06/01/2015 

County Labor Force by Age                                            v2013       01/01/2015 

County Cost of Living Index                                          v2014       05/31/2015 

County Net Migration by Age 2000 to 2010                             Final       01/01/2015  

Historical County Population Estimates                               Final       01/01/2015     

Historical Municipal Population Estimates  (Totals)                  Final       10/23/2015

Historical Municipal Population Estimates  (Within Counties)         Final       10/23/2015

----------------------------------------------------------------------------------------------

# Data Descriptions

### county_est: Colorado County Population Estimates 

Each year the State Demography Office creates population estimates for all of the counties in Colorado.  The Estimates process requires a variety of input data: births and deaths from the Department of Public Health and Environment, Net Migration from the U.S. Census Bureau, as well as Construction and Group Quarters data from local governments.  This process generates more data than just a total population estimate.

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/county_est.rdata")
county_est
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####county: 
Name of the County

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.

#####householdPopulation: 
Population Living in Households on July 1 of the year.

#####groupquartersPopulation: 
Population living in group quarters (e.g. nursing homes, prisons, dorms) on July 1 of the year.

#####totalHousingUnits: 
Estimates number of housing units for July 1 of the year.

#####occupiedHousingUnits: 
Estimates of the number of occupied housing units on July 1, this is also a measure of the number of households.

### county_forecast: Colorado Municipal Population Estimates
Each year the State Demogrpahy Office creates a population forecast and historical estimate for each county by age and sex.  This process uses a cohort component model matched with an economic model to link jobs estimates with population estimates.  The model creates estimates for years that the Estimates program creates estimates for and forecasts for the years from then unitl 2040.  

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/county_forecast.rdata")
county_forecast
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.


#####year: 
Estimate year, specifically reflects July 1 of each year.

#####age:
Single year of age, topcoded at 90.  A value of 90 contains the population for all those that are 90 and above.  

#####county: 
Name of the County

#####malePopulation: 
Total male population on July 1 of the year.

#####femalePopulation: 
Total female population on July 1 of the year.

#####totalPopulation: 
Total population on July 1 of the year.

#####datatype:
This takes the value of "Estimate" when the data is an estimate and "Forecast" when the data is a forecast.

### muni_est: Colorado Municipal Population Estimates 

Each year the State Demography Office creates population estimates for all of the municipalities in Colorado.  The Estimates process requires Construction and Group Quarters data from local governments and Census estimates of persons per household and a base year population and housing unit estimate.  This process generates more data than just a total population estimate.

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/muni_est.rdata")
muni_est
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####placefips: 
Federal Information Processing Standards (FIPS) Number for each municipality, without leading zeros.

#####municipality: 
Name of the Municipality

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.

#####householdPopulation: 
Population Living in Households on July 1 of the year.

#####groupquartersPopulation: 
Population living in group quarters (e.g. nursing homes, prisons, dorms) on July 1 of the year.

#####totalHousingUnits: 
Estimates number of housing units for July 1 of the year.

#####occupiedHousingUnits: 
Estimates of the number of occupied housing units on July 1, this is also a measure of the number of households.

### muni_win_est: Colorado Municipal Population Estimates 

Each year the State Demography Office creates population estimates for all of the municipalities in Colorado.  The Estimates process requires Construction and Group Quarters data from local governments and Census estimates of persons per household and a base year population and housing unit estimate.  This process generates more data than just a total population estimate. Municipalities do not always exist entirely within one county, so parts exist in each county.  These parts are an additional feature of this dataset (i.e. you can get specific estimates for the Adams, Arapahoe, and Douglas County parts of Aurora).

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/muni_win_est.rdata")

muni_win_est
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####placefips: 
Federal Information Processing Standards (FIPS) Number for each municipality, without leading zeros.

#####municipality: 
Name of the Municipality

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.

#####householdPopulation: 
Population Living in Households on July 1 of the year.

#####groupquartersPopulation: 
Population living in group quarters (e.g. nursing homes, prisons, dorms) on July 1 of the year.

#####totalHousingUnits: 
Estimates number of housing units for July 1 of the year.

#####occupiedHousingUnits: 
Estimates of the number of occupied housing units on July 1, this is also a measure of the number of households.


 ### county_hist: Colorado County Historical Population Estimates 

Each year the State Demography Office creates population estimates for all of the counties in Colorado.  The Estimates process requires a variety of input data: births and deaths from the Department of Public Health and Environment, Net Migration from the U.S. Census Bureau, as well as Construction and Group Quarters data from local governments.  This data includes estimates up until 2009, the year prior to our current estimates base. 

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/county_hist.rdata")

county_hist
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####county: 
Name of the County

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.

#####datatype
Describes whether data is an estimate or a forecast.

### muni_hist: Colorado Municipal Historical Population Estimates 

Each year the State Demography Office creates population estimates for all of the municipalities in Colorado.  The Estimates process requires Construction and Group Quarters data from local governments and Census estimates of persons per household and a base year population and housing unit estimate.  This process generates more data than just a total population estimate.

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/muni_hist.rdata")

muni_hist
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####placefips: 
Federal Information Processing Standards (FIPS) Number for each municipality, without leading zeros.

#####municipality: 
Name of the Municipality

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.


### muni_win_hist: Colorado Municipal Historical Population Estimates 

Each year the State Demography Office creates population estimates for all of the municipalities in Colorado.  The Estimates process requires Construction and Group Quarters data from local governments and Census estimates of persons per household and a base year population and housing unit estimate.  This process generates more data than just a total population estimate. Municipalities do not always exist entirely within one county, so parts exist in each county.  These parts are an additional feature of this dataset (i.e. you can get specific estimates for the Adams, Arapahoe, and Douglas County parts of Aurora).

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/muni_win_hist.rdata")

muni_win_hist
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####placefips: 
Federal Information Processing Standards (FIPS) Number for each municipality, without leading zeros.

#####municipality: 
Name of the Municipality

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####totalPopulation: 
Total Population on July 1 of the year.

 ### county_jobs: Colorado County Jobs Estimates (SDO Version)

Each year the State Demography Office creates total jobs estimates by sector.  These jobs estimates include wage and salary employment, sole proprietors, and agricultural employment estimates.  These data are made each year and span from 2001 to 2014.  Due to supression requirements from the BLS, some industries are noted with an S for supressed.  

This is a snapshot of the data:
```{r, echo=FALSE}
# load("/opt/shiny-server/samples/sample-apps/codemog_data/county_jobs.rdata")

county_jobs
```
NOTE: The dataframe is tagged as a `tbl_df()` class.  If you use `dplyr` then this will allow for the type of browsing seen above along with other advantages.  If you do not, then that will not matter.

#### Variable Descriptions
#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####year: 
Estimate year, specifically reflects July 1 of each year.

#####jobs: 
Estimates number of jobs in that industry for that county and year.  

#####total_flag
T for an industry total, S for a sub-industry.

#####sector_name:
Name of sector that the estimate was made for.

#####sector_id: 
Numeric ID for the sector or industry the estimate was made for.

Here is a listing of those included and their definition:
```{r, echo=FALSE}
print(county_jobs%>%filter(countyfips==31, year==2014)%>% select(sector_id, sector_name))%>% print(n=100)
```
 ### county_coli: Colorado County Cost of Living Index
 
 
The State Demography Office produces an estimated cost of living estimate for each county in Colorado. A document describing the motivations and methods that go into the production of the Index is forthcoming.  
This is a snapshot of the data:
```{r, echo=FALSE}
county_coli
```

#### Variable Descriptions

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####county: 
Name of the County

#####year: 
Estimate Year

#####coli: 
Cost of living index number.  All are relative to the State, so an index of 100 represents a cost of living equal to the State.  These numbers could be read as the cost of living for a county as a percent of the State cost of living.

####level:
This is a relative measure that describes the cost of living as either "Very high", "High",      "Mid-range", "Low", or "Very Low." This measure is determined based on SDO staff expertise and judgement.

####stateRank:

Rank of each county within the State from most to least expensive.

### county_migbyage: Net Migration Distributions by Single Year of Age for Colorado Counties, 2000 to 2010.
 
The State Demography Office produced the age distribution of migration for Colorado Counties using Demographic Analysis on the 2000 and 2010 Decennial Census as SDO birth and death data.  The residual from births and deaths over the period is the net migration for each age.  

This is a snapshot of the data:
```{r, echo=FALSE}
county_migbyage
```

#### Variable Descriptions

#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####county: 
Name of the County

#####age:
Single year of age, topcoded at 90.  A value of 90 contains the population for all those that are 90 and above.  

####netMigration:
The net migration for that ge group within that county for the period spanning 2000 to 2010.  THese are raw values for each age group and will be negative if the area lost population in that age and positive in the opposite situation.


### jobs_forecast: State Demography Office Total Jobs Forecast for Colorado and Counties
 
The State Demography Office produces a total job foreacst for Colorado, 57 counties, and the Denver Metro Area.  This data is not generated for each of the 7 Denver Metro counties, which are instead treated as an economic block. The data is historical from 1990 to 2014 and forecast after that.

This is a snapshot of the data:
```{r, echo=FALSE}
jobs_forecast
```

#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####year: 
Forecast or Estimate Year

#####totalJobs:
Jobs number for that county and year.

### county_base: State Demography Office Base Industry Analysis for Colorado and Counties
 
The State Demography Office produces a base industry analysis for Colorado, 57 counties, and the Denver Metro Area.  This data is not generated for each of the 7 Denver Metro counties, which are instead treated as an economic block. The data is used to show the importance of each industry to the economy of a county.  

This is a snapshot of the data:
```{r, echo=FALSE}
county_base
```
#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####county: 
Name of the County

#####year: 
Estimate Year

#####baseIndustry:
The nam of the industry 

#####jobs:
Jobs number for that county, industry, and year.

#####geonum: 
numeric, for merging with data from SDO PostgreSQL Census databases.

#####industry_group:
D - Direct Basic Total
B - Base Industry
T - Total Jobs
I- Indirect Basic Total
L - Local Resident Services

### county_indchange: State Demography Office Job Change by Industry for Colorado and Counties
 
Based on the unsupressed version of the SDO County Job Estimates, this dataset compares each of the previous years since 2002 to the most recent, 2014.    

#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####sector_id: 
Numeric identifier for the name of the industry. See County Jobs above for listing.

#####sector_name:
String, name of the industry

#####j_XX14:
Compares the year denoted by 'xx' above to 2014. A '1' would mean there are the same amount of jobs in the 'xx' year and 2014, above 1 shows growth in the industry, below '1' shows decline.


###  county_jobShare: State Demography Office Estimated Job Shares by Industry for Colorado Counties

Based on the unsupressed version of the SDO County Job Estimates, this dataset shows the share of total jobs in a county within each industry. 

This is a snapshot of the data:
```{r, echo=FALSE}
county_jobShare
```
#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####sector_id: 
Numeric identifier for the name of the industry.

#####sector_name:
String, name of the industry

#####year: 
Estimate Year

#####jobShare: 
numeric, share of total jobs in that industry.

###  county_lfage: State Demography Office Estimated Labor Force by Age by County

The State Demography Office produces an estimate of the labor force (Non-institutionalized population over 16 working or looking  for work) as a part of the population projections program.  This data is provided across 7 age groups for each county. Can be summed to get total labor force within a county.

This is a snapshot of the data:
```{r, echo=FALSE}
county_lfage
```
#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.

#####county: 
Name of the County

#####age:
Age group. Takes values of:
16 to 19
20 to 24
25 to 34
35 to 44
45 to 54
55 to 64
65 and over

#####year: 
Estimate or Forecast Year

#####laborForce:
The number of people in the labor force (Non-institutionalized population over 16 working or looking  for work) for that county, year, and age group.


###  county_lf_bls: U.S. Bureau of Labor Statistics Estimated Labor Force by County

The BLS produces labor force estimate each year for counties in the US.  This dataset contains Colorado counties from 1990 to 2014.  Totals will differ with the SDO esitmates due to methodology differences.  For more information about these differences contact Cindy DeGroen (cindy.degroen@state.co.us).

This is a snapshot of the data:
```{r, echo=FALSE}
county_lf_bls
```
#### Variable Descriptions
#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.



#####year: 
Estimate or Forecast Year

#####laborForce:
The number of people in the labor force for that county and year.


###   county_profile: State Demography Office Demogrpahic Profile Dataset

The State Demography Office compiles data from its population estimate program along with other sources such as the U.S. Census Bureau, to create a database for demographic profiles from 1985 to present.  That database is presented here.


#####countyfips: 
Federal Information Processing Standards (FIPS) Number for each County, without leading zeros.


#####year: 
Estimate  Year

#####births:
The number of births in a county from Colorado Department of Public Health and the Environment data.

#####censusBuildingPermits:
The number of building permits issued for the year based on data from the Building Permit Survey and Population Estimates program of the U.S. Census.

#####deaths:
The number of deaths in a county from Colorado Department of Public Health and the Environment data.

#####groupQuartersPopulation
Population in group quarters (e.g. dorms, prison, nursing homes, barracks, etc.) in the county. The specific definitions follow the U.S. Census Bureau definitions from Census 2010.

#####householdPopulation:
THe population of a county that lives in households rather than group quarters.  This includes anyone living in a housing unit that isn't specifically group quarters.  This tends to be most of the population.  Adding this variable to the group quarters population will obtain the total population for the county.

#####households:
Number of households in a county, defined as the number of occupied housing units.  

#####householdSize:
Average number of people per household.  Defined by dividing the householdPopulation by the number of households.

#####naturalIncrease:
The increase (or decrease if negative) in population due to the number of births minus the number of deaths.  

#####netMigration:
The increase (or decrease if negative) in population due to the number of in-migrants minus the number of out-migrants.

#####totalHousingUnits:
The total number of housing units in the county.  Generated from Housing stock in Census years and change tracked by building permits and certificates of occupancy data,

#####vacancyRate:
The proportion of total housing units that sit vacant. Calculated implicitly via the housing unit method based on Census year benchmarks.

#####vacantHousingUnits:
The number of housing units sitting vacant. This is dervied by applying the vacancy rate to the total number of households.